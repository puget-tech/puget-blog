!function(e,n,m){var o=m(e),a=m(n),y=m.fancybox=function(){y.open.apply(this,arguments)},t=!1,i=null;m.extend(y,{version:"2.0.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:200,minHeight:200,maxWidth:9999,maxHeight:9999,autoSize:!0,fitToView:!0,aspectRatio:!1,topRatio:.5,fixed:!m.browser.msie||6<m.browser.version||!n.documentElement.hasOwnProperty("ontouchstart"),scrolling:"auto",wrapCSS:"fancybox-default",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,modal:!1,loop:!0,ajax:{},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0" '+(m.browser.msie?'allowtransparency="true""':"")+' scrolling="{scrolling}" src="{href}"></iframe>',swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-item fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-item fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}},onCancel:m.noop,beforeLoad:m.noop,afterLoad:m.noop,beforeShow:m.noop,afterShow:m.noop,beforeClose:m.noop,afterClose:m.noop},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,wrap:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){m.isArray(e)||(e=[e]),e.length&&(y.close(!0),y.opts=m.extend(!0,{},y.defaults,t),y.group=e,y._start(y.opts.index||0))},cancel:function(){y.coming&&!1===y.trigger("onCancel")||(y.coming=null,y.hideLoading(),y.ajaxLoad&&y.ajaxLoad.abort(),y.ajaxLoad=null,y.imgPreload&&(y.imgPreload.onload=y.imgPreload.onabort=y.imgPreload.onerror=null))},close:function(e){y.cancel(),y.current&&!1!==y.trigger("beforeClose")&&(y.unbindEvents(),!y.isOpen||e&&!0===e[0]?(m(".fancybox-wrap").stop().trigger("onReset").remove(),y._afterZoomOut()):(y.isOpen=y.isOpened=!1,m(".fancybox-item").remove(),y.wrap.stop(!0).removeClass("fancybox-opened"),y.inner.css("overflow","hidden"),y.transitions[y.current.closeMethod]()))},play:function(e){var t=function(){clearTimeout(y.player.timer)},n=function(){t(),y.current&&y.player.isActive&&(y.player.timer=setTimeout(y.next,y.current.playSpeed))},o=function(){t(),m("body").unbind(".player"),y.player.isActive=!1,y.trigger("onPlayEnd")};y.player.isActive||e&&!1===e[0]?o():y.current&&(y.current.loop||y.current.index<y.group.length-1)&&(y.player.isActive=!0,m("body").bind({"afterShow.player onUpdate.player":n,"onCancel.player beforeClose.player":o,"beforeLoad.player":t}),n(),y.trigger("onPlayStart"))},next:function(){y.current&&y.jumpto(y.current.index+1)},prev:function(){y.current&&y.jumpto(y.current.index-1)},jumpto:function(e){y.current&&(e=parseInt(e,10),1<y.group.length&&y.current.loop&&(e>=y.group.length?e=0:e<0&&(e=y.group.length-1)),void 0!==y.group[e]&&(y.cancel(),y._start(e)))},reposition:function(e){y.isOpen&&y.wrap.css(y._getPosition(e))},update:function(){y.isOpen&&(t||(i=setInterval(function(){t&&(t=!1,clearTimeout(i),y.current&&(y.current.autoSize&&(y.inner.height("auto"),y.current.height=y.inner.height()),y._setDimension(),y.current.canGrow&&y.inner.height("auto"),y.reposition(),y.trigger("onUpdate")))},100)),t=!0)},toggle:function(){y.isOpen&&(y.current.fitToView=!y.current.fitToView,y.update())},hideLoading:function(){m("#fancybox-loading").remove()},showLoading:function(){y.hideLoading(),m('<div id="fancybox-loading"></div>').click(y.cancel).appendTo("body")},getViewport:function(){return{x:o.scrollLeft(),y:o.scrollTop(),w:o.width(),h:o.height()}},unbindEvents:function(){y.wrap&&y.wrap.unbind(".fb"),a.unbind(".fb"),o.unbind(".fb")},bindEvents:function(){var e=y.current,n=e.keys;e&&(o.bind("resize.fb, orientationchange.fb",y.update),n&&a.bind("keydown.fb",function(e){var t;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||!(m.inArray(e.target.tagName.toLowerCase(),["input","textarea","select","button"])<0)||(t=e.keyCode,-1<m.inArray(t,n.close)?(y.close(),e.preventDefault()):-1<m.inArray(t,n.next)?(y.next(),e.preventDefault()):-1<m.inArray(t,n.prev)&&(y.prev(),e.preventDefault()))}),m.fn.mousewheel&&e.mouseWheel&&1<y.group.length&&y.wrap.bind("mousewheel.fb",function(e,t){var n=m(e.target).get(0);0!==n.clientHeight&&n.scrollHeight!==n.clientHeight||(e.preventDefault(),y[0<t?"prev":"next"]())}))},trigger:function(n){var e,o=y[-1<m.inArray(n,["onCancel","beforeLoad","afterLoad"])?"coming":"current"];if(o){if(m.isFunction(o[n])&&(e=o[n].apply(o,Array.prototype.slice.call(arguments,1))),!1===e)return!1;o.helpers&&m.each(o.helpers,function(e,t){t&&void 0!==y.helpers[e]&&m.isFunction(y.helpers[e][n])&&y.helpers[e][n](t,o)}),m.event.trigger(n+".fb")}},isImage:function(e){return e&&e.match(/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i)},isSWF:function(e){return e&&e.match(/\.(swf)(.*)?$/i)},_start:function(e){var n,t,o,a,i={},r=y.group[e]||null;"object"==typeof r&&(r.nodeType||r instanceof m)&&(n=!0,m.metadata&&(i=m(r).metadata())),i=m.extend(!0,{},y.opts,{index:e,element:r},m.isPlainObject(r)?r:i),m.each(["href","title","content","type"],function(e,t){i[t]=y.opts[t]||n&&m(r).attr(t)||i[t]||null}),"number"==typeof i.margin&&(i.margin=[i.margin,i.margin,i.margin,i.margin]),i.modal&&m.extend(!0,i,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}}),y.coming=i,!1!==y.trigger("beforeLoad")?(o=i.type,t=i.href,o||(n&&!(a=m(r).data("fancybox-type"))&&r.className&&(o=(a=r.className.match(/fancybox\.(\w+)/))?a[1]:null),!o&&t&&(y.isImage(t)?o="image":y.isSWF(t)?o="swf":t.match(/^#/)&&(o="inline")),o||(o=n?"inline":"html"),i.type=o),"inline"===o||"html"===o?(i.content=i.content||("inline"===o&&t?m(t):r),i.content.length||(o=null)):(i.href=t||r,i.href||(o=null)),i.group=y.group,"image"===o?y._loadImage():"ajax"===o?y._loadAjax():o?y._afterLoad():y._error("type")):y.coming=null},_error:function(e){m.extend(y.coming,{type:"html",autoSize:!0,minHeight:"0",hasError:e,content:y.coming.tpl.error}),y._afterLoad()},_loadImage:function(){y.imgPreload=new Image,y.imgPreload.onload=function(){this.onload=this.onerror=null,y.coming.width=this.width,y.coming.height=this.height,y._afterLoad()},y.imgPreload.onerror=function(){this.onload=this.onerror=null,y._error("image")},y.imgPreload.src=y.coming.href,y.imgPreload.complete||y.showLoading()},_loadAjax:function(){y.showLoading(),y.ajaxLoad=m.ajax(m.extend({},y.coming.ajax,{url:y.coming.href,error:function(e,t){"abort"!==t?y._error("ajax",e):y.hideLoading()},success:function(e,t){"success"===t&&(y.coming.content=e,y._afterLoad())}}))},_preload:function(){var e=y.group,t=y.current.index,n=function(e){e&&y.isImage(e)&&((new Image).src=e)};1<e.length&&(n(m(e[t+1]||e[0]).attr("href")),n(m(e[t-1]||e[e.length-1]).attr("href")))},_afterLoad:function(){y.hideLoading(),y.coming&&!1!==y.trigger("afterLoad",y.current)?(y.isOpened?(m(".fancybox-item").remove(),y.wrap.stop(!0).removeClass("fancybox-opened"),y.inner.css("overflow","hidden"),y.transitions[y.current.prevMethod]()):(m(".fancybox-wrap").stop().trigger("onReset").remove(),y.trigger("afterClose")),y.unbindEvents(),y.isOpen=!1,y.current=y.coming,y.coming=!1,y.wrap=m(y.current.tpl.wrap).addClass("fancybox-tmp "+y.current.wrapCSS).appendTo("body"),y.outer=m(".fancybox-outer",y.wrap).css("padding",y.current.padding+"px"),y.inner=m(".fancybox-inner",y.wrap),y._setContent(),y.trigger("beforeShow"),y._setDimension(),y.wrap.hide().removeClass("fancybox-tmp"),y.bindEvents(),y._preload(),y.transitions[y.isOpened?y.current.nextMethod:y.current.openMethod]()):y.coming=!1},_setContent:function(){var e,t,n=y.current,o=n.type;switch(o){case"inline":case"ajax":case"html":e=n.content,"inline"===o&&e instanceof m&&((e=e.show().detach()).parent().hasClass("fancybox-inner")&&e.parents(".fancybox-wrap").trigger("onReset").remove(),m(y.wrap).bind("onReset",function(){e.appendTo("body").hide()})),n.autoSize&&(t=m('<div class="fancybox-tmp"></div>').appendTo(m("body")).append(e),n.width=t.outerWidth(),n.height=t.outerHeight(!0),e=t.contents().detach(),t.remove());break;case"image":e=n.tpl.image.replace("{href}",n.href),n.aspectRatio=!0;break;case"swf":e=n.tpl.swf.replace(/\{width\}/g,n.width).replace(/\{height\}/g,n.height).replace(/\{href\}/g,n.href);break;case"iframe":e=n.tpl.iframe.replace("{href}",n.href).replace("{scrolling}",n.scrolling).replace("{rnd}",(new Date).getTime())}-1<m.inArray(o,["image","swf","iframe"])&&(n.autoSize=!1,n.scrolling=!1),y.inner.append(e)},_setDimension:function(){var e,t,n=y.wrap,o=y.outer,a=y.inner,i=y.current,r=y.getViewport(),c=i.margin,s=2*i.padding,l=i.width+s,p=i.height+s,d=i.width/i.height,f=i.maxWidth,h=i.maxHeight,u=i.minWidth,g=i.minHeight;if(r.w-=c[1]+c[3],r.h-=c[0]+c[2],-1<l.toString().indexOf("%")&&(l=r.w*parseFloat(l)/100),-1<p.toString().indexOf("%")&&(p=r.h*parseFloat(p)/100),i.fitToView&&(f=Math.min(r.w,f),h=Math.min(r.h,h)),u=Math.min(l,u),g=Math.min(l,g),f=Math.max(u,f),h=Math.max(g,h),i.aspectRatio?(f<l&&(p=((l=f)-s)/d+s),h<p&&(l=((p=h)-s)*d+s),l<u&&(p=((l=u)-s)/d+s),p<g&&(l=((p=g)-s)*d+s)):(l=Math.max(u,Math.min(l,f)),p=Math.max(g,Math.min(p,h))),l=Math.round(l),p=Math.round(p),m(n.add(o).add(a)).width("auto").height("auto"),a.width(l-s).height(p-s),n.width(l),e=n.height(),f<l||h<e)for(;(f<l||h<e)&&u<l&&g<e;)p-=10,i.aspectRatio?(l=Math.round((p-s)*d+s))<u&&(p=((l=u)-s)/d+s):l-=10,a.width(l-s).height(p-s),n.width(l),e=n.height();i.dim={width:l,height:e},i.canGrow=i.autoSize&&g<p&&p<h,i.canShrink=!1,i.canExpand=!1,l-s<i.width||p-s<i.height?i.canExpand=!0:(l>r.w||e>r.h)&&u<l&&g<p&&(i.canShrink=!0),t=e-s,y.innerSpace=t-a.height(),y.outerSpace=t-o.height()},_getPosition:function(e){var t=y.current,n=y.getViewport(),o=t.margin,a=y.wrap.width()+o[1]+o[3],i=y.wrap.height()+o[0]+o[2],r={position:"absolute",top:o[0]+n.y,left:o[3]+n.x};return t.fixed&&(!e||!1===e[0])&&i<=n.h&&a<=n.w&&(r={position:"fixed",top:o[0],left:o[3]}),r.top=Math.ceil(Math.max(r.top,r.top+(n.h-i)*t.topRatio))+"px",r.left=Math.ceil(Math.max(r.left,r.left+.5*(n.w-a)))+"px",r},_afterZoomIn:function(){var e=y.current;y.isOpen=y.isOpened=!0,y.wrap.addClass("fancybox-opened").css("overflow","visible"),y.update(),y.inner.css("overflow","auto"===e.scrolling?"auto":"yes"===e.scrolling?"scroll":"hidden"),(e.closeClick||e.nextClick)&&y.inner.css("cursor","pointer").bind("click.fb",e.nextClick?y.next:y.close),e.closeBtn&&m(e.tpl.closeBtn).appendTo(y.wrap).bind("click.fb",y.close),e.arrows&&1<y.group.length&&((e.loop||0<e.index)&&m(e.tpl.prev).appendTo(y.wrap).bind("click.fb",y.prev),(e.loop||e.index<y.group.length-1)&&m(e.tpl.next).appendTo(y.wrap).bind("click.fb",y.next)),y.trigger("afterShow"),y.opts.autoPlay&&!y.player.isActive&&(y.opts.autoPlay=!1,y.play())},_afterZoomOut:function(){y.trigger("afterClose"),y.wrap.trigger("onReset").remove(),m.extend(y,{group:{},opts:{},current:null,isOpened:!1,isOpen:!1,wrap:null,outer:null,inner:null})}}),y.transitions={getOrigPosition:function(){var e,t,n=y.current.element,o={},a=50,i=50;return n&&n.nodeName&&m(n).is(":visible")?(e=m(n).find("img:first")).length?(o=e.offset(),a=e.outerWidth(),i=e.outerHeight()):o=m(n).offset():(t=y.getViewport(),o.top=t.y+.5*(t.h-i),o.left=t.x+.5*(t.w-a)),o={top:Math.ceil(o.top)+"px",left:Math.ceil(o.left)+"px",width:Math.ceil(a)+"px",height:Math.ceil(i)+"px"}},step:function(e,t){var n,o,a;"width"!==t.prop&&"height"!==t.prop||(o=a=Math.ceil(e-2*y.current.padding),"height"===t.prop&&(n=(e-t.start)/(t.end-t.start),t.start>t.end&&(n=1-n),o-=y.innerSpace*n,a-=y.outerSpace*n),y.inner[t.prop](o),y.outer[t.prop](a))},zoomIn:function(){var e,t,n=y.wrap,o=y.current,a=o.dim;"elastic"===o.openEffect?(delete(t=m.extend({},a,y._getPosition(!0))).position,e=this.getOrigPosition(),o.openOpacity&&(e.opacity=0,t.opacity=1),n.css(e).show().animate(t,{duration:o.openSpeed,easing:o.openEasing,step:this.step,complete:y._afterZoomIn})):(n.css(m.extend({},a,y._getPosition())),"fade"===o.openEffect?n.fadeIn(o.openSpeed,y._afterZoomIn):(n.show(),y._afterZoomIn()))},zoomOut:function(){var e,t=y.wrap,n=y.current;"elastic"===n.closeEffect?("fixed"===t.css("position")&&t.css(y._getPosition(!0)),e=this.getOrigPosition(),n.closeOpacity&&(e.opacity=0),t.animate(e,{duration:n.closeSpeed,easing:n.closeEasing,step:this.step,complete:y._afterZoomOut})):t.fadeOut("fade"===n.closeEffect?n.closeSpeed:0,y._afterZoomOut)},changeIn:function(){var e,t=y.wrap,n=y.current;"elastic"===n.nextEffect?((e=y._getPosition(!0)).opacity=0,e.top=parseInt(e.top,10)-200+"px",t.css(e).show().animate({opacity:1,top:"+=200px"},{duration:n.nextSpeed,complete:y._afterZoomIn})):(t.css(y._getPosition()),"fade"===n.nextEffect?t.hide().fadeIn(n.nextSpeed,y._afterZoomIn):(t.show(),y._afterZoomIn()))},changeOut:function(){var e=y.wrap,t=y.current,n=function(){m(this).trigger("onReset").remove()};e.removeClass("fancybox-opened"),"elastic"===t.prevEffect?e.animate({opacity:0,top:"+=200px"},{duration:t.prevSpeed,complete:n}):e.fadeOut("fade"===t.prevEffect?t.prevSpeed:0,n)}},y.helpers.overlay={overlay:null,update:function(){var e,t;this.overlay.width(0).height(0),e=m.browser.msie?(t=Math.max(n.documentElement.scrollWidth,n.body.scrollWidth))<Math.max(n.documentElement.offsetWidth,n.body.offsetWidth)?o.width():t:a.width(),this.overlay.width(e).height(a.height())},beforeShow:function(e){this.overlay||(this.overlay=m('<div id="fancybox-overlay"></div>').css(e.css||{background:"black"}).appendTo("body"),this.update(),e.closeClick&&this.overlay.bind("click.fb",y.close),o.bind("resize.fb",m.proxy(this.update,this)),this.overlay.fadeTo(e.speedIn||"fast",e.opacity||1))},onUpdate:function(){this.update()},afterClose:function(e){this.overlay&&this.overlay.fadeOut(e.speedOut||"fast",function(){m(this).remove()}),this.overlay=null}},y.helpers.title={beforeShow:function(e){var t,n=y.current.title;n&&(t=m('<div class="fancybox-title fancybox-title-'+e.type+'-wrap">'+n+"</div>").appendTo("body"),"float"===e.type&&(t.width(t.width()),t.wrapInner('<span class="child"></span>'),y.current.margin[2]+=Math.abs(parseInt(t.css("margin-bottom"),10))),t.appendTo("over"===e.type?y.inner:"outside"===e.type?y.wrap:y.outer))}},m.fn.fancybox=function(e){var i=e||{},r=this.selector||"";function t(e){var t,n,o=[],a=this.rel;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault(),void 0!==(n=m(this).data("fancybox-group"))?t=!!n&&"data-fancybox-group":a&&""!==a&&"nofollow"!==a&&(n=a,t="rel"),t&&(o=r.length?m(r).filter("["+t+'="'+n+'"]'):m("["+t+'="'+n+'"]')),o.length?(i.index=o.index(this),y.open(o.get(),i)):y.open(this,i))}return r?a.undelegate(r,"click.fb-start").delegate(r,"click.fb-start",t):m(this).unbind("click.fb-start").bind("click.fb-start",t),this}}(window,document,jQuery);
//# sourceMappingURL=jquery.fancybox.js.map
