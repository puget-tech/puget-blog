!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(n){"use strict";var o="drawer",t=void 0!==document.ontouchstart,r={init:function(s){return s=n.extend({iscroll:{mouseWheel:!0,preventDefault:!1},showOverlay:!0},s),r.settings={state:!1,events:{opened:"drawer.opened",closed:"drawer.closed"},dropdownEvents:{opened:"shown.bs.dropdown",closed:"hidden.bs.dropdown"}},r.settings.class=n.extend({nav:"drawer-nav",toggle:"drawer-toggle",overlay:"drawer-overlay",open:"drawer-open",close:"drawer-close",dropdown:"drawer-dropdown"},s.class),this.each(function(){var e=this,t=n(this);t.data(o)||(s=n.extend({},s),t.data(o,{options:s}),r.refresh.call(e),s.showOverlay&&r.addOverlay.call(e),n("."+r.settings.class.toggle).on("click."+o,function(){return r.toggle.call(e),e.iScroll.refresh()}),n(window).on("resize."+o,function(){return r.close.call(e),e.iScroll.refresh()}),n("."+r.settings.class.dropdown).on(r.settings.dropdownEvents.opened+" "+r.settings.dropdownEvents.closed,function(){return e.iScroll.refresh()}))})},refresh:function(){this.iScroll=new IScroll("."+r.settings.class.nav,n(this).data(o).options.iscroll)},addOverlay:function(){var e=n(this),t=n("<div>").addClass(r.settings.class.overlay+" "+r.settings.class.toggle);return e.append(t)},toggle:function(){return r.settings.state?r.close.call(this):r.open.call(this)},open:function(){var e=n(this);return t&&e.on("touchmove."+o,function(e){e.preventDefault()}),e.removeClass(r.settings.class.close).addClass(r.settings.class.open).css({overflow:"hidden"}).drawerCallback(function(){r.settings.state=!0,e.trigger(r.settings.events.opened)})},close:function(){var e=n(this);return t&&e.off("touchmove."+o),e.removeClass(r.settings.class.open).addClass(r.settings.class.close).css({overflow:"auto"}).drawerCallback(function(){r.settings.state=!1,e.trigger(r.settings.events.closed)})},destroy:function(){return this.each(function(){var e=n(this);n("."+r.settings.class.toggle).off("click."+o),n(window).off("resize."+o),n("."+r.settings.class.dropdown).off(r.settings.dropdownEvents.opened+" "+r.settings.dropdownEvents.closed),this.iScroll.destroy(),e.removeData(o).find("."+r.settings.class.overlay).remove()})}};n.fn.drawerCallback=function(t){var s="transitionend webkitTransitionEnd";return this.each(function(){var e=n(this);e.on(s,function(){return e.off(s),t.call(this)})})},n.fn.drawer=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void n.error("Method "+e+" does not exist on jQuery."+o):r.init.apply(this,arguments)}});
//# sourceMappingURL=drawer.js.map
